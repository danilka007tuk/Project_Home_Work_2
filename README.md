# Виджет банковских операций клиента 
 
## Описание 

## Проект "МойВиджет" - это консоль приложение на Python для банковских операций клиента.

### В проекте реализована функция маскировки номера карты и номера счёта — mask_account_card

## Также в проекте появился новый функционал по сортировке банковских операций клиента 

## Для работы потребуется виртуальное окружение poetry и python версии 3.13 и выше

## Добавлен пакет tests и изменён функционал модулей для написания тестов под разные сценарии

### Пакет src:
В модуле widget.py создана функция mask_account_card, которая принимает строку с именем владельца и номером карты или счётом и возвращает имя владельца и замаскированный номер карты или счёт. 
*Формат передачи:* 
«Visa Platinum 7000792289606361» 
«Счёт 73654108430135874305»

*Формат вывода:* 
«Visa Platinum 7000 79** **** 6361» 
«Счет **4305»

## Новый функционал сортировки

В пакете src появилась функция filter_by_state, которая принимает список словарей и опционально значение для ключа **state** (по умолчанию «EXECUTED»). Функция возвращает новый список словарей, содержащий только те словари, у которых ключ **state** 
соответствует указанному значению.

В пакете src появилась функция sort_by_date, которая принимает список словарей и опциональное значение для ключа **date** (по умолчанию «CANCELED»). Функция возвращает новый список словарей, содержащий только те словари, у которых ключ **date**
соответствует указанному значению.

### Пакет тест:
Добавлены модули с тестами по всем модулям из папки src.

Протестированы разные сценарий формата ввода и вывода.

### Доработка модулей:

Произошла доработка модулей из папки src для правильной работы тестов.

# Добавлен новый модуль generators.py в пакет src 

## В модуле generators присутствуют новые функции по новому функционалу сортировки.

### Функция filter_by_currency:
*Функция которая, принимает на вход список словарей, представляющих транзакции и возвращает итератор с соответствующей валютой 'USD'.*

### Функция transaction_descriptions:
*Функция который принимает список словарей с транзакциями и возвращает описание каждой операции по очереди.*

### Функция card_number_generator:
*Функция-генератор которая принимает начальное и конечное значения для генерации диапазона номеров.*

## В пакет tests добавлены тесты по всем новым функциям в модуле generators.py:

## Добавлен новый модуль decorators.py в пакет src

## Добавлены тесты в пакет test

## Написаны функции 
**1 - my_function**
**2 - error_function**
**Для тестирования декоратора log**

## Функционал декоратора log:
**Декоратор log который автоматически регистрирует детали выполнения функций, 
    имя функции, передаваемые аргументы, 
    результат выполнения и информация об ошибках**

# Новый функционал Проекта "МойВиджет"


## Добавлен новый модуль utils.py в пакет src: 

**Реализована функция operation которая Принимает на вход имя JSON-файла по пути ./data/ и
возвращает список словарей с данными о финансовых транзакциях**

## Добавлен новый модуль external_api  в пакет src:

**Реализованна функция operation_transaction которая производит конвертация валюты через API_KEY и возвращает его**

## Добавлены тесты в пакет tests

# Произошли новые изменения в модуле masks и utils:
**Создан новый функционал с помощью библиотеке logging**
**Добавлен logging для функций в модуле masks и utils**

## Добавлена новая директория для записи логов по модуля masks и utils:
**Запись логов происходит по типу формата:
метка времени(2025-01-25 17:30:48,067), название модуля(src.masks), уровень серьезности(DEBAG) и сообщение, описывающее событие или ошибку, которые произошли**



