# Виджет банковских операций клиента 
 
## Описание 

## Проект "МойВиджет" - это консоль приложение на Python для банковских операций клиента.

### В проекте реализована функция маскировки номера карты и номера счёта — mask_account_card

## Также в проекте появился новый функционал по сортировке банковских операций клиента 

## Для работы потребуется виртуальное окружение poetry и python версии 3.13 и выше

## Добавлен пакет tests и изменён функционал модулей для написания тестов под разные сценарии

### Пакет src:
В модуле widget.py создана функция mask_account_card, которая принимает строку с именем владельца и номером карты или счётом и возвращает имя владельца и замаскированный номер карты или счёт. 
*Формат передачи:* 
«Visa Platinum 7000792289606361» 
«Счёт 73654108430135874305»

*Формат вывода:* 
«Visa Platinum 7000 79** **** 6361» 
«Счет **4305»

## Новый функционал сортировки

В пакете src появилась функция filter_by_state, которая принимает список словарей и опционально значение для ключа **state** (по умолчанию «EXECUTED»). Функция возвращает новый список словарей, содержащий только те словари, у которых ключ **state** 
соответствует указанному значению.

В пакете src появилась функция sort_by_date, которая принимает список словарей и опциональное значение для ключа **date** (по умолчанию «CANCELED»). Функция возвращает новый список словарей, содержащий только те словари, у которых ключ **date**
соответствует указанному значению.

### Пакет тест:
Добавлены модули с тестами по всем модулям из папки src.

Протестированы разные сценарий формата ввода и вывода.

### Доработка модулей:

Произошла доработка модулей из папки src для правильной работы тестов.

# Добавлен новый модуль generators.py в пакет src 

## В модуле generators присутствуют новые функции по новому функционалу сортировки.

### Функция filter_by_currency:
*Функция которая, принимает на вход список словарей, представляющих транзакции и возвращает итератор с соответствующей валютой 'USD'.*

### Функция transaction_descriptions:
*Функция который принимает список словарей с транзакциями и возвращает описание каждой операции по очереди.*

### Функция card_number_generator:
*Функция-генератор которая принимает начальное и конечное значения для генерации диапазона номеров.*

## В пакет tests добавлены тесты по всем новым функциям в модуле generators.py:

## Добавлен новый модуль decorators.py в пакет src

## Добавлены тесты в пакет test

## Основные изменения при добавлении нового модуля decorators.py понесли модули: processing.py, main.py

## Они были изменены для правильной работы тестов и декоратора log в модуле decorators 

## Функционал декоратора log:
**"""Декоратор log принимает функцию предикат, сообщение об ошибке и
    путь к файлу. Функция предикат может проверять выходные данные функции.
    В случае ошибки выводится сообщение error_message.
    Декоратор отмечает начало работы функции, выводит результат и
    сообщает об окончание работы"""**








